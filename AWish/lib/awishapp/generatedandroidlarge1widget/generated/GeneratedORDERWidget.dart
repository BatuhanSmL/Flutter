import 'dart:convert';
import 'package:http/http.dart' as http;
import 'package:flutter/material.dart';
import 'package:firebase_core/firebase_core.dart';
import 'package:firebase_messaging/firebase_messaging.dart';

import 'GeneratedRectangle8Widget.dart';

/* Text ORDER
    Autogenerated by FlutLab FTF Generator
  */

class GeneratedORDERWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Align(
        alignment: Alignment.center,
        child: TextButton(
          onPressed: () async {
            var data = {
              "to": "/topics/12345",
              "notification": {
                "title": "Emre has an ORDER",
                "body": '${order.text}',
                "image": "https://media.makeameme.org/created/yes-sire-your.jpg"
              }
            };
            await http.post(
              Uri.parse('https://fcm.googleapis.com/fcm/send'),
              headers: {
                'Content-Type': 'application/json',
                'Authorization':
                    'key= AAAACEouGE8:APA91bFPdRGsFY5kAXHlB6ptA6BZV6ULuOMS-DXrRCvwCkuKiKtNLFuvgIEFiXRulTuf1FAtaHQGCg-6friizqAGusU_TX9TlOpxRGYuQ7mq7RrMVu8PUGZ1fSVUm-MwWH9zPC1tHDRp',
              },
              body: jsonEncode(data),
            );
          },
          child: Text(
            '''ORDER''',
            overflow: TextOverflow.visible,
            textAlign: TextAlign.center,
            style: TextStyle(
              height: 1.2102272033691406,
              fontSize: 30.0,
              fontFamily: 'Inter',
              fontWeight: FontWeight.w400,
              color: Color.fromARGB(255, 255, 255, 255),

              /* letterSpacing: 0.0, */
            ),
          ),
        ));
  }
}
